# ============================================================================
# Dang! SIEM — Docker Environment Configuration (Co-located with Wazuh)
# Copy this file to .env and fill in your values:  cp env.docker.template .env
# ============================================================================

# ── Docker Compose Settings ──────────────────────────────────────────────────
APP_PORT=3000
DB_EXTERNAL_PORT=3307
RUN_MIGRATIONS=true

# ── Wazuh Docker Network ────────────────────────────────────────────────────
# Name of the Docker network used by your Wazuh stack.
# Find it with: docker network ls | grep -i wazuh
# Common values: single-node_default, wazuh-docker_default
# Leave empty to use the default (single-node_default).
# If Wazuh is installed via packages (not Docker), use:
#   ./deploy.sh --wazuh-host
WAZUH_NETWORK=single-node_default

# ── HTTPS Reverse Proxy (optional) ──────────────────────────────────────────
# Set these when using ./deploy.sh --proxy caddy or --proxy nginx
# NOTE: Port 443 may be used by Wazuh Dashboard. Set DANG_HTTPS_PORT=8443
# to use an alternate port, or omit proxy to access Dang! on :3000 directly.
DANG_DOMAIN=
ACME_EMAIL=
# DANG_HTTPS_PORT=8443

# ── MySQL Database ───────────────────────────────────────────────────────────
MYSQL_ROOT_PASSWORD=change_me_root_password
MYSQL_DATABASE=dang
MYSQL_USER=dang
MYSQL_PASSWORD=change_me_db_password

# ── Authentication ───────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32

# Local auth mode (active when OAUTH_SERVER_URL is empty)
# If set, this user is seeded as admin on first startup
# If not set, the first user to register becomes admin
LOCAL_ADMIN_USER=admin
LOCAL_ADMIN_PASS=CHANGE_ME_admin_password

# ── Wazuh Manager API ───────────────────────────────────────────────────────
# Co-located Docker:  WAZUH_HOST=wazuh.manager   (container name on shared network)
# Package-based:      WAZUH_HOST=host.docker.internal  (host services via Docker bridge)
# Remote server:      WAZUH_HOST=192.168.x.x     (IP of remote Wazuh server)
WAZUH_HOST=wazuh.manager
WAZUH_PORT=55000
WAZUH_USER=wazuh-wui
WAZUH_PASS=CHANGE_ME

# ── Wazuh Indexer / OpenSearch ──────────────────────────────────────────────
# Co-located Docker:  WAZUH_INDEXER_HOST=wazuh.indexer
# Package-based:      WAZUH_INDEXER_HOST=host.docker.internal
# Remote server:      WAZUH_INDEXER_HOST=192.168.x.x
WAZUH_INDEXER_HOST=wazuh.indexer
WAZUH_INDEXER_PORT=9200
WAZUH_INDEXER_USER=admin
WAZUH_INDEXER_PASS=CHANGE_ME
WAZUH_INDEXER_PROTOCOL=https

# ── AlienVault OTX Threat Intelligence (optional) ───────────────────────────
OTX_API_KEY=

# ── Manus OAuth (leave blank for self-hosted) ──────────────────────────────
VITE_APP_ID=
OAUTH_SERVER_URL=
VITE_OAUTH_PORTAL_URL=
OWNER_OPEN_ID=
OWNER_NAME=

# ── Manus Forge API (leave blank for self-hosted) ─────────────────────────
BUILT_IN_FORGE_API_URL=
BUILT_IN_FORGE_API_KEY=
VITE_FRONTEND_FORGE_API_KEY=
VITE_FRONTEND_FORGE_API_URL=

# ── App Branding ─────────────────────────────────────────────────────────────
VITE_APP_TITLE=Dang! SIEM
VITE_APP_LOGO=
