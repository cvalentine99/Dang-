# ============================================================================
# Dang! SIEM — Docker Environment Configuration
# Copy this file to .env and fill in your values:  cp env.docker.template .env
# ============================================================================

# ── Docker Compose Settings ──────────────────────────────────────────────────
APP_PORT=3000
DB_EXTERNAL_PORT=3306
RUN_MIGRATIONS=true

# ── HTTPS Reverse Proxy (optional) ──────────────────────────────────────────
# Set these when using ./deploy.sh --proxy caddy or --proxy nginx
# DANG_DOMAIN: Your public domain (Caddy auto-provisions Let's Encrypt certs)
# ACME_EMAIL:  Email for Let's Encrypt certificate notifications
DANG_DOMAIN=
ACME_EMAIL=

# ── MySQL Database ───────────────────────────────────────────────────────────
MYSQL_ROOT_PASSWORD=change_me_root_password
MYSQL_DATABASE=dang
MYSQL_USER=dang
MYSQL_PASSWORD=change_me_db_password

# ── Authentication ───────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32

# Local auth — if set, this user is seeded as admin on first startup
# If not set, the first user to register becomes admin
LOCAL_ADMIN_USER=admin
LOCAL_ADMIN_PASS=CHANGE_ME_admin_password

# ── Wazuh Manager API (REQUIRED) ────────────────────────────────────────────
WAZUH_HOST=localhost
WAZUH_PORT=55000
WAZUH_USER=wazuh-wui
WAZUH_PASS=CHANGE_ME

# ── Wazuh Indexer / OpenSearch (REQUIRED for SIEM Events, Threat Hunting) ──
WAZUH_INDEXER_HOST=localhost
WAZUH_INDEXER_PORT=9200
WAZUH_INDEXER_USER=admin
WAZUH_INDEXER_PASS=CHANGE_ME
WAZUH_INDEXER_PROTOCOL=https

# ── Splunk Enterprise Security (optional) ───────────────────────────────────
# Required for Walter Queue → Splunk ticket creation
SPLUNK_HOST=
SPLUNK_PORT=8089
SPLUNK_HEC_PORT=8088
SPLUNK_HEC_TOKEN=

# ── LLM — Self-hosted endpoint (optional) ───────────────────────────────────
# For local GPU inference, use: ./deploy.sh --gpu
# Or point at an external OpenAI-compatible API (Ollama, vLLM, TGI, etc.)
LLM_HOST=
LLM_PORT=8080
LLM_MODEL=unsloth/Nemotron-3-Nano-30B-A3B-GGUF
LLM_ENABLED=false

# ── GPU LLM Overlay Settings (only used with docker-compose.gpu.yml) ────────
# LLM_EXTERNAL_PORT=8080
# LLM_MODEL_URL=https://huggingface.co/unsloth/Nemotron-3-Nano-30B-A3B-GGUF/resolve/main/Nemotron-3-Nano-30B-A3B-Q4_K_M.gguf
# LLM_CTX_SIZE=8192
# LLM_GPU_LAYERS=99
# LLM_THREADS=8
# LLM_PARALLEL=2
# LLM_GPU_COUNT=1

# ── AlienVault OTX Threat Intelligence (optional) ───────────────────────────
OTX_API_KEY=

# ── App Branding ─────────────────────────────────────────────────────────────
VITE_APP_TITLE=Dang! SIEM
VITE_APP_LOGO=
