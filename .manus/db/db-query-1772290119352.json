{
  "query": "\nCREATE TABLE IF NOT EXISTS `triage_objects` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `triageId` varchar(64) NOT NULL UNIQUE,\n  `alertId` varchar(128) NOT NULL,\n  `ruleId` varchar(32) NOT NULL,\n  `ruleDescription` text,\n  `ruleLevel` int NOT NULL DEFAULT 0,\n  `alertTimestamp` varchar(64),\n  `agentId` varchar(16),\n  `agentName` varchar(128),\n  `alertFamily` varchar(128),\n  `severity` enum('critical','high','medium','low','info') NOT NULL DEFAULT 'info',\n  `severityConfidence` float NOT NULL DEFAULT 0,\n  `route` enum('A_DUPLICATE_NOISY','B_LOW_CONFIDENCE','C_HIGH_CONFIDENCE','D_LIKELY_BENIGN') NOT NULL,\n  `isDuplicate` int NOT NULL DEFAULT 0,\n  `similarityScore` float NOT NULL DEFAULT 0,\n  `similarTriageId` varchar(64),\n  `summary` text,\n  `triageData` json NOT NULL,\n  `triagedBy` enum('triage_agent','analyst_manual') NOT NULL DEFAULT 'triage_agent',\n  `triggeredByUserId` int,\n  `alertQueueItemId` int,\n  `linkedCaseId` int,\n  `status` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `errorMessage` text,\n  `latencyMs` int,\n  `tokensUsed` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `to_alertId_idx` (`alertId`),\n  INDEX `to_ruleId_idx` (`ruleId`),\n  INDEX `to_agentId_idx` (`agentId`),\n  INDEX `to_severity_idx` (`severity`),\n  INDEX `to_route_idx` (`route`),\n  INDEX `to_status_idx` (`status`),\n  INDEX `to_isDuplicate_idx` (`isDuplicate`),\n  INDEX `to_createdAt_idx` (`createdAt`),\n  INDEX `to_alertFamily_idx` (`alertFamily`),\n  INDEX `to_linkedCaseId_idx` (`linkedCaseId`)\n);\n\nCREATE TABLE IF NOT EXISTS `correlation_bundles` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `correlationId` varchar(64) NOT NULL UNIQUE,\n  `sourceTriageId` varchar(64) NOT NULL,\n  `relatedAlertCount` int NOT NULL DEFAULT 0,\n  `discoveredEntityCount` int NOT NULL DEFAULT 0,\n  `blastRadiusHosts` int NOT NULL DEFAULT 0,\n  `blastRadiusUsers` int NOT NULL DEFAULT 0,\n  `assetCriticality` enum('critical','high','medium','low','unknown') NOT NULL DEFAULT 'unknown',\n  `likelyCampaign` int NOT NULL DEFAULT 0,\n  `caseAction` enum('merge_existing','create_new','defer_to_analyst') NOT NULL DEFAULT 'defer_to_analyst',\n  `mergeTargetId` int,\n  `confidence` float NOT NULL DEFAULT 0,\n  `bundleData` json NOT NULL,\n  `status` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `errorMessage` text,\n  `latencyMs` int,\n  `tokensUsed` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `cb_sourceTriageId_idx` (`sourceTriageId`),\n  INDEX `cb_status_idx` (`status`),\n  INDEX `cb_caseAction_idx` (`caseAction`),\n  INDEX `cb_likelyCampaign_idx` (`likelyCampaign`),\n  INDEX `cb_createdAt_idx` (`createdAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `living_case_state` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `sessionId` int NOT NULL UNIQUE,\n  `caseData` json NOT NULL,\n  `workingTheory` text,\n  `theoryConfidence` float NOT NULL DEFAULT 0,\n  `completedPivotCount` int NOT NULL DEFAULT 0,\n  `evidenceGapCount` int NOT NULL DEFAULT 0,\n  `pendingActionCount` int NOT NULL DEFAULT 0,\n  `approvalRequiredCount` int NOT NULL DEFAULT 0,\n  `linkedTriageIds` json,\n  `linkedCorrelationIds` json,\n  `lastUpdatedBy` enum('case_agent','hypothesis_agent','response_agent','analyst_manual') NOT NULL DEFAULT 'analyst_manual',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `lcs_sessionId_idx` (`sessionId`),\n  INDEX `lcs_theoryConfidence_idx` (`theoryConfidence`),\n  INDEX `lcs_updatedAt_idx` (`updatedAt`)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3xenzgJ3NGNThF2.96bc46f6ec2f --database 9n2ukZGVgWAjZMdS2ZS3BU --execute \nCREATE TABLE IF NOT EXISTS `triage_objects` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `triageId` varchar(64) NOT NULL UNIQUE,\n  `alertId` varchar(128) NOT NULL,\n  `ruleId` varchar(32) NOT NULL,\n  `ruleDescription` text,\n  `ruleLevel` int NOT NULL DEFAULT 0,\n  `alertTimestamp` varchar(64),\n  `agentId` varchar(16),\n  `agentName` varchar(128),\n  `alertFamily` varchar(128),\n  `severity` enum('critical','high','medium','low','info') NOT NULL DEFAULT 'info',\n  `severityConfidence` float NOT NULL DEFAULT 0,\n  `route` enum('A_DUPLICATE_NOISY','B_LOW_CONFIDENCE','C_HIGH_CONFIDENCE','D_LIKELY_BENIGN') NOT NULL,\n  `isDuplicate` int NOT NULL DEFAULT 0,\n  `similarityScore` float NOT NULL DEFAULT 0,\n  `similarTriageId` varchar(64),\n  `summary` text,\n  `triageData` json NOT NULL,\n  `triagedBy` enum('triage_agent','analyst_manual') NOT NULL DEFAULT 'triage_agent',\n  `triggeredByUserId` int,\n  `alertQueueItemId` int,\n  `linkedCaseId` int,\n  `status` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `errorMessage` text,\n  `latencyMs` int,\n  `tokensUsed` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `to_alertId_idx` (`alertId`),\n  INDEX `to_ruleId_idx` (`ruleId`),\n  INDEX `to_agentId_idx` (`agentId`),\n  INDEX `to_severity_idx` (`severity`),\n  INDEX `to_route_idx` (`route`),\n  INDEX `to_status_idx` (`status`),\n  INDEX `to_isDuplicate_idx` (`isDuplicate`),\n  INDEX `to_createdAt_idx` (`createdAt`),\n  INDEX `to_alertFamily_idx` (`alertFamily`),\n  INDEX `to_linkedCaseId_idx` (`linkedCaseId`)\n);\n\nCREATE TABLE IF NOT EXISTS `correlation_bundles` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `correlationId` varchar(64) NOT NULL UNIQUE,\n  `sourceTriageId` varchar(64) NOT NULL,\n  `relatedAlertCount` int NOT NULL DEFAULT 0,\n  `discoveredEntityCount` int NOT NULL DEFAULT 0,\n  `blastRadiusHosts` int NOT NULL DEFAULT 0,\n  `blastRadiusUsers` int NOT NULL DEFAULT 0,\n  `assetCriticality` enum('critical','high','medium','low','unknown') NOT NULL DEFAULT 'unknown',\n  `likelyCampaign` int NOT NULL DEFAULT 0,\n  `caseAction` enum('merge_existing','create_new','defer_to_analyst') NOT NULL DEFAULT 'defer_to_analyst',\n  `mergeTargetId` int,\n  `confidence` float NOT NULL DEFAULT 0,\n  `bundleData` json NOT NULL,\n  `status` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `errorMessage` text,\n  `latencyMs` int,\n  `tokensUsed` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `cb_sourceTriageId_idx` (`sourceTriageId`),\n  INDEX `cb_status_idx` (`status`),\n  INDEX `cb_caseAction_idx` (`caseAction`),\n  INDEX `cb_likelyCampaign_idx` (`likelyCampaign`),\n  INDEX `cb_createdAt_idx` (`createdAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `living_case_state` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `sessionId` int NOT NULL UNIQUE,\n  `caseData` json NOT NULL,\n  `workingTheory` text,\n  `theoryConfidence` float NOT NULL DEFAULT 0,\n  `completedPivotCount` int NOT NULL DEFAULT 0,\n  `evidenceGapCount` int NOT NULL DEFAULT 0,\n  `pendingActionCount` int NOT NULL DEFAULT 0,\n  `approvalRequiredCount` int NOT NULL DEFAULT 0,\n  `linkedTriageIds` json,\n  `linkedCorrelationIds` json,\n  `lastUpdatedBy` enum('case_agent','hypothesis_agent','response_agent','analyst_manual') NOT NULL DEFAULT 'analyst_manual',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `lcs_sessionId_idx` (`sessionId`),\n  INDEX `lcs_theoryConfidence_idx` (`theoryConfidence`),\n  INDEX `lcs_updatedAt_idx` (`updatedAt`)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 891
}